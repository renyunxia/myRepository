<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
<style type="text/css">
#div1{
	width:100px;
	height: 100px;
	position: absolute;
	top:0;
	left:0;
	background: red;
}
#div2{
	width:100px;
	height: 100px;
	margin:150px auto;
	background: green;
}	
</style>
</head>
<body>
	<div id="div1"></div>
	
	<div id="div2"></div>
	
<script type="text/javascript">
	/*
		 
	*/
	var div = document.getElementById('div1');
	var div2 = document.getElementById('div2');
	
	div.addEventListener('mousedown',fnDown);
	
	function fnDown(ev){
		var disX = ev.pageX - div.offsetLeft;
		var disY = ev.pageY - div.offsetTop;
		document.addEventListener('mousemove',fnMove);
		document.addEventListener('mouseup',fnUp);
		function fnMove(ev){
			div.style.left = ev.pageX - disX + 'px';
			div.style.top = ev.pageY - disY + 'px';
			
			if(duang(div,div2)){
				div2.style.background = 'yellowgreen';
			}else{
				div2.style.background = 'green';
			}
		}
		function fnUp(){
			document.removeEventListener('mousemove',fnMove);
			document.removeEventListener('mouseup',fnUp);
		}
		ev.preventDefault();
	}
	
	function duang(obj1,obj2){
		var l1 = obj1.offsetLeft,
		t1 = obj1.offsetTop,
		r1 = l1 + obj1.offsetWidth,
		b1 = t1 + obj1.offsetHeight;
		
		var l2 = obj2.offsetLeft,
		t2 = obj2.offsetTop,
		r2 = l2 + obj2.offsetWidth,
		b2 = t2 + obj2.offsetHeight;
		
		if(r1 < l2 || b1 < t2 || l1 > r2 || t1 > b2){
			return false;
		}else{
			return true;
		}
	}
	
	
	
	
</script>
</body>
</html>