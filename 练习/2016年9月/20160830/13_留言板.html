<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	*{
		margin: 0;
		padding: 0;
	}
	.clear{
		zoom:1;
	}
	.clear:after{
		content:"";
		display: block;
		clear: both;
	}
	#warp{
		width: 300px;
		margin: 30px auto;
		-ms-word-break: break-all;
		word-break: break-all;
	}
	#box{
		height: 400px;
		border:1px #000 solid;
		overflow: auto;
		padding:20px;
	}
	img{
		width: 30px;
		height: 30px;
		vertical-align: middle;
		border-radius: 50%;
	}
	.left{
		float: left;
		margin:10px 10px 10px 40px;
		position: relative;
	}
	.left img{
		position: absolute;
		left: -40px;
		top: 0;
		border-radius: 50%;
	}
	.left p,.right p{
		background: red;
		padding: 0px 8px;
		font: 12px/20px "微软雅黑";
		line-height: 30px;
		border-radius: 15px;
	}
	.right{
		float: right;
		margin:10px 40px 10px 10px;
		position: relative;
	}
	.right p{
		background: green;
	}
	.right img{
		position: absolute;
		right: -40px;
		top: 0;
		border-radius: 50%;
	}
	</style>
	<script>
	window.onload = function () {
		var box= document.getElementById("box");
		var img = document.getElementById("img");
		var text = document.getElementById("text");
		var btn = document.getElementById("btn");
		var isImg =false;
		img.onclick = function(){
			// isImg被赋值false，执行else第二张图
			if(isImg){
				img.src = "img/img.jpg";
			}else{
				img.src = "img/img2.jpg";
			}
			// 取反，因isImg被赋值false，故取反就是重新赋值为true执行if
			isImg = !isImg;
			// alert(isImg)
		}
		btn.onclick = function(){
			// value为空提示输入
			if(text.value==""){
				alert('请输入内容');
			}else{
				if(isImg){
					// 第二张图
					box.innerHTML ='<div class="clear"><div class="right"><img src="img/img2.jpg" alt=""><p>'+text.value+'</p></div></div>' + box.innerHTML;
				}else{
					// 第一张图
					box.innerHTML ='<div class="clear"><div class="left"><img src="img/img.jpg" alt=""><p>'+text.value+'</p></div></div>' + box.innerHTML;
				}
				// value清空
				text.value="";
			}
		}
	}
	</script>
</head>
<body>
	<div id="warp">
		<div id="box">
			<!-- <div class="clear">
				<div class="left">
					<img src="img/img.jpg" alt="">
					<p>asdgasdgdsfggsda</p>
				</div>
			<div class="clear">
				<div class="right">
					<img src="img/img2.jpg" alt="">
					<p>asdgasdgdsfggsda</p>
				</div>
			</div> -->
		</div>
		<div id="message">
			<img src="img/img.jpg" id="img">
			<input type="text" id="text">
			<input type="button" value="发送" id="btn" >
		</div>
	</div>
</body>
</html>