<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	*{
		margin: 0;
		padding: 0;
		border: 0;
	}
	#warp{
		width: 290px;
		height: 520px;
		margin: 15px auto;
		position: relative;
		border: 1px #000 solid;
	}
	#talk{
		width: 244px;
		height: 417px;
		position: absolute;
		top: 0;
		left: 0;
		overflow: hidden;
		padding: 20px;
	}
	#message{
		width: 264px;
		height: 30px;
		position: absolute;
		top: 467px;
		left: 2px;
		line-height: 50px;
		padding: 10px;
		overflow: hidden;
	}
	#people{
		width:30px;
		height: 30px;
		float:left;
		border-radius: 15px;
	}
	#text{
		height:24px;
		width:150px;
		float:left;
		margin:0 10px;
		padding:2px;
		border:1px #699 solid;
	}
	#btn{
		height:30px;
		width:50px;
		float:left;
		text-align: center;
	}
	.box{
		overflow:hidden;
		color:#FFF;
		font-size:12px;
	}
	.imgBox{
		width:30px;
		height: 30px;
		border-radius:15px;
	}
	.line{
		display:block;
		background: red;
		line-height:30px;
		margin:0 10px;
		padding:0 10px;
		border-radius:5px
	}
	.bg-grn{
		background:green
	}
	.left{
		float:left;
	}
	.right{
		float:right;
	}

	</style>
	<script>
window.onload=function()
{
	var oText=document.getElementById('text');
	var oBtn=document.getElementById('btn');
	var oTalk=document.getElementById('talk');
	var oImg=document.getElementById('people');
	var onOff=true;
	 
	 oImg.onclick=function()
	 {
		if(onOff==true)
		{
			oImg.src='img/img.jpg'
			onOff=false;
		}
		else
		{
			oImg.src='img/img2.jpg';
			onOff=true	;		
		}
	 }
	 
	
	oBtn.onclick=function()
	{
		if(oText.value=='')
		{alert('请输入内容')}
		else if(onOff==false)
		{
			oTalk.innerHTML='<div class="box"><img class="imgBox left" src="img/img.jpg"><span class="line left">'+oText.value+'</span></div>'+'<br />'+oTalk.innerHTML	;
			oText.value='';
		}
		else 
		{
			oTalk.innerHTML='<div class="box"><img class="imgBox right" src="img/img2.jpg"><span class="line right bg-grn">'+oText.value+'</span></div>'+'<br />'+oTalk.innerHTML	;
			oText.value='';	
		}//innerHTML中可以加代码运行
		
	}	
}
</script>
</head>
<body>
	<div id="warp">
		<div id="talk">
			
		</div>
		<div id="message">
			<img src="img/img2.jpg" id="people">
			<input type="text" id="text">
			<input type="text" value="发送" id="btn">
		</div>
	</div>
</body>
</html>