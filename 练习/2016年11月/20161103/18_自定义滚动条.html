<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	div{
		margin: 0;
		padding: 0;
	}
	#box{
		width: 300px;
		height: 300px;
		border: 5px red solid;
		position: relative;
	}
	#div1{
		width: 20px;
		height: 300px;
		background: #ccc;
		position: relative;
	}
	#div2{
		width: 20px;
		height: 20px;
		background: #999;
		position: absolute;
		left: 0;
		top: 0;
	}
	#div3{
		width: 280px;
		height: 300px;
		position: relative;
		left: 20px;
		top:-300px;
		overflow: hidden;
	}
	#div4{
		width: 280px;
		height: 300px;
		position: absolute;
		left: 0;
		top: 0;
	}
	</style>
</head>
<body style="height:1000px;">
	<div id="box">
		<div id="div1">
			<div id="div2"></div>
		</div>
		<div id="div3">
			<div id="div4">
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
				<p>按时缴费哈多了可根据和高科技风波改不服了啥地方机构分工会</p>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="myWheel2.js"></script>
	<script>
	var div1 = document.getElementById('div1'),
		div2 = document.getElementById('div2'),
		div3 = document.getElementById('div3'),
		div4 = document.getElementById('div4');
	var box = document.getElementById('box');
		document.onmousedown = function(ev){
			var disY = ev.pageY - div2.offsetTop;
			document.onmousemove = function(ev){
				var t = ev.pageY - disY;
				if(t < 0){
					t = 0;
				}else if(t > div1.offsetHeight - div2.offsetHeight){
					t = div1.offsetHeight - div2.offsetHeight;
				};
				var scaleY = t/(div1.offsetHeight - div2.offsetHeight);
				div4.style.top = scaleY * (div3.offsetHeight - div4.scrollHeight) + 'px';
				div2.style.top = t + 'px';
			}
			document.onmouseup = function(){
				document.onmouseup = document.onmousemove = null;
			}
			ev.preventDefault();
		}
		myWheel(box,function(o){
			var t = div2.offsetTop;
			if(o){
				t -= 5;
				if(t < 0 ){
					t = 0;
				}
			}else{
				t += 5;
				if(t > div1.offsetHeight - div2.offsetHeight){
					t = div1.offsetHeight - div2.offsetHeight;
				}
			}
			var scaleY = t/(div1.offsetHeight - div2.offsetHeight);
			div4.style.top = scaleY * (div3.offsetHeight - div4.scrollHeight) + 'px';
			div2.style.top = t + 'px';
		})
	</script>
</body>
</html>