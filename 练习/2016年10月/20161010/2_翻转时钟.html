<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>翻转时钟</title>
	<style>
	*{
		margin: 0;
		padding: 0;
	}
	ul{
		height: 172px;
		text-align: center;
		overflow: hidden;
	}
	li{
		list-style: none;
		float: left;
		position: relative;
	}
	img {
		display: block;
	}
	</style>
	<script type="text/javascript" src="mTween.js"></script>
	<script>
	window.onload = function(){
		var lis = document.getElementsByClassName('t');
		var point = document.getElementsByClassName('p');
		for (var i = 0; i < lis.length; i++) {
			lis[i].t = 0;
		};

		myTime();
		setInterval(myTime,1000);
		function myTime(){
			var nowDate = new Date();
			var h = add0(nowDate.getHours());
			var m = add0(nowDate.getMinutes());
			var s = add0(nowDate.getSeconds());
			var strTime = h + m + s;

			for (var i = 0; i < strTime.length; i++) {
				if(lis[i].t != strTime[i]){
					fnMove(lis[i],strTime[i]);
					lis[i].t = strTime[i];
				}
			};
		}
		function fnMove(obj,src){
			var pics = obj.getElementsByTagName('img');
			pics[0].src = 'img/' +obj.t+ '.jpg';
			obj.style.top = 0;
			pics[1].src = 'img/' +src+ '.jpg';
			mTween(obj,{top:-172});
		}

		function add0(n){
			return n < 10 ? '0' + n : '' + n;
		}

		var onOff = true;

		setInterval(function(){
			onOff = !onOff;
			swinkle(onOff);
		},500)

		function swinkle(onOff){
			var src = onOff ? 'colon' : 'colon0';
			for (var i = 0; i < point.length; i++) {
				point[i].src = 'img/' +src+ '.jpg';
			};
		}
	}
	</script>
</head>
<body>
	<ul id="list">
		<li class="t">
			<img src="img/0.jpg">
			<img src="img/0.jpg">
		</li>
		<li class="t">
			<img src="img/0.jpg">
			<img src="img/0.jpg">
		</li>
		<li><img src="img/colon.jpg" class="p"></li>
		<li class="t">
			<img src="img/0.jpg">
			<img src="img/0.jpg">
		</li>
		<li class="t">
			<img src="img/0.jpg">
			<img src="img/0.jpg">
		</li>
		<li>
			<img src="img/colon.jpg" class="p">
		</li>
		<li class="t">
			<img src="img/0.jpg">
			<img src="img/0.jpg">
		</li>
		<li class="t">
			<img src="img/0.jpg">
			<img src="img/0.jpg">
		</li>
	</ul>
</body>
</html>